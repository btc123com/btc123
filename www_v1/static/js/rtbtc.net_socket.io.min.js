(function(e,a){e.version="0.8.7";e.protocol=1;e.transports=[];e.j=[];e.sockets={};e.connect=function(b,c){var g=e.util.parseUri(b),f,d;if(a&&a.location)g.protocol=g.protocol||a.location.protocol.slice(0,-1),g.host=g.host||(a.document?a.document.domain:a.location.hostname),g.port=g.port||a.location.port;f=e.util.uniqueUri(g);var i={host:g.host,secure:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};e.util.merge(i,c);if(i["force new connection"]||!e.sockets[f])d=new e.Socket(i);
!i["force new connection"]&&d&&(e.sockets[f]=d);d=d||e.sockets[f];return d.of(g.path.length>1?g.path:"")}})("object"===typeof module?module.exports:this.io={},this);
(function(e,a){var b=e.util={},c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(",");b.parseUri=function(d){for(var d=c.exec(d||""),a={},b=14;b--;)a[g[b]]=d[b]||"";return a};b.uniqueUri=function(d){var c=d.protocol,b=d.host,d=d.port;"document"in
a?(b=b||document.domain,d=d||(c=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(b=b||"localhost",!d&&c=="https"&&(d=443));return(c||"http")+"://"+b+":"+(d||80)};b.query=function(d,a){var c=b.chunkQuery(d||""),f=[];b.merge(c,b.chunkQuery(a||""));for(var g in c)c.hasOwnProperty(g)&&f.push(g+"="+c[g]);return f.length?"?"+f.join("&"):""};b.chunkQuery=function(d){for(var a={},d=d.split("&"),c=0,b=d.length,f;c<b;++c)f=d[c].split("="),f[0]&&(a[f[0]]=decodeURIComponent(f[1]));
return a};var f=!1;b.load=function(d){if("document"in a&&document.readyState==="complete"||f)return d();b.on(a,"load",d,!1)};b.on=function(d,a,c,b){d.attachEvent?d.attachEvent("on"+a,c):d.addEventListener&&d.addEventListener(a,c,b)};b.request=function(d){if(d&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!d||b.ua.hasCORS))return new XMLHttpRequest;if(!d)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}return null};"undefined"!=typeof window&&
b.load(function(){f=!0});b.defer=function(d){if(!b.ua.webkit||"undefined"!=typeof importScripts)return d();b.load(function(){setTimeout(d,100)})};b.merge=function(d,a,c,f){var f=f||[],c=typeof c=="undefined"?2:c,g;for(g in a)a.hasOwnProperty(g)&&b.indexOf(f,g)<0&&(typeof d[g]!=="object"||!c?(d[g]=a[g],f.push(a[g])):b.merge(d[g],a[g],c-1,f));return d};b.mixin=function(d,a){b.merge(d.prototype,a.prototype)};b.inherit=function(a,c){function b(){}b.prototype=c.prototype;a.prototype=new b};b.isArray=Array.isArray||
function(a){return Object.prototype.toString.call(a)==="[object Array]"};b.intersect=function(a,c){for(var f=[],g=a.length>c.length?a:c,e=a.length>c.length?c:a,l=0,r=e.length;l<r;l++)~b.indexOf(g,e[l])&&f.push(e[l]);return f};b.indexOf=function(a,c,b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(a,c,b);for(var f=a.length,b=b<0?b+f<0?0:b+f:b||0;b<f&&a[b]!==c;b++);return f<=b?-1:b};b.toArray=function(a){for(var c=[],b=0,f=a.length;b<f;b++)c.push(a[b]);return c};b.ua={};b.ua.hasCORS=
"undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return a.withCredentials!=void 0}();b.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);
(function(e,a){function b(){}e.EventEmitter=b;b.prototype.on=function(c,b){if(!this.$events)this.$events={};this.$events[c]?a.util.isArray(this.$events[c])?this.$events[c].push(b):this.$events[c]=[this.$events[c],b]:this.$events[c]=b;return this};b.prototype.addListener=b.prototype.on;b.prototype.once=function(a,b){function f(){d.removeListener(a,f);b.apply(this,arguments)}var d=this;f.listener=b;this.on(a,f);return this};b.prototype.removeListener=function(b,g){if(this.$events&&this.$events[b]){var f=
this.$events[b];if(a.util.isArray(f)){for(var d=-1,i=0,e=f.length;i<e;i++)if(f[i]===g||f[i].listener&&f[i].listener===g){d=i;break}if(d<0)return this;f.splice(d,1);f.length||delete this.$events[b]}else(f===g||f.listener&&f.listener===g)&&delete this.$events[b]}return this};b.prototype.removeAllListeners=function(a){this.$events&&this.$events[a]&&(this.$events[a]=null);return this};b.prototype.listeners=function(b){if(!this.$events)this.$events={};this.$events[b]||(this.$events[b]=[]);a.util.isArray(this.$events[b])||
(this.$events[b]=[this.$events[b]]);return this.$events[b]};b.prototype.emit=function(b){if(!this.$events)return!1;var g=this.$events[b];if(!g)return!1;var f=Array.prototype.slice.call(arguments,1);if("function"==typeof g)g.apply(this,f);else if(a.util.isArray(g))for(var g=g.slice(),d=0,i=g.length;d<i;d++)g[d].apply(this,f);else return!1;return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(e,a){function b(a){return a<10?"0"+a:a}function c(a){i.lastIndex=0;return i.test(a)?'"'+a.replace(i,function(a){var b=m[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,d){var f,i,e,m,n=k,q,o=d[a];o instanceof Date&&(o=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z":null);typeof l==="function"&&(o=l.call(d,
a,o));switch(typeof o){case "string":return c(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);case "object":if(!o)return"null";k+=p;q=[];if(Object.prototype.toString.apply(o)==="[object Array]"){m=o.length;for(f=0;f<m;f+=1)q[f]=g(f,o)||"null";e=q.length===0?"[]":k?"[\n"+k+q.join(",\n"+k)+"\n"+n+"]":"["+q.join(",")+"]";k=n;return e}if(l&&typeof l==="object"){m=l.length;for(f=0;f<m;f+=1)typeof l[f]==="string"&&(i=l[f],(e=g(i,o))&&q.push(c(i)+(k?": ":
":")+e))}else for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e=g(i,o))&&q.push(c(i)+(k?": ":":")+e);e=q.length===0?"{}":k?"{\n"+k+q.join(",\n"+k)+"\n"+n+"}":"{"+q.join(",")+"}";k=n;return e}}if(a&&a.parse)return e.JSON={parse:a.parse,stringify:a.stringify};var f=e.JSON={},d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k,p,m={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;f.stringify=function(a,b,d){var f;p=k="";if(typeof d==="number")for(f=0;f<d;f+=1)p+=" ";else typeof d==="string"&&(p=d);if((l=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return g("",{"":a})};f.parse=function(a,b){function f(a,d){var c,g,i=a[d];if(i&&typeof i==="object")for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(g=f(i,c),g!==void 0?
i[c]=g:delete i[c]);return b.call(a,d,i)}var c,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),typeof b==="function"?f({"":c},""):c;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,
typeof JSON!=="undefined"?JSON:void 0);
(function(e,a){var b=e.parser={},c=b.packets="disconnect,connect,heartbeat,message,json,event,ack,error,noop".split(","),g=b.reasons=["transport not supported","client not handshaken","unauthorized"],f=b.advice=["reconnect"],d=a.JSON,i=a.util.indexOf;b.encodePacket=function(a){var b=i(c,a.type),e=a.id||"",k=a.endpoint||"",s=a.ack,t=null;switch(a.type){case "error":var A=a.reason?i(g,a.reason):"",a=a.advice?i(f,a.advice):"";if(A!==""||a!=="")t=A+(a!==""?"+"+a:"");break;case "message":if(a.data!=="")t=
a.data;break;case "event":t={name:a.name};if(a.args&&a.args.length)t.args=a.args;t=d.stringify(t);break;case "json":t=d.stringify(a.data);break;case "connect":if(a.qs)t=a.qs;break;case "ack":t=a.ackId+(a.args&&a.args.length?"+"+d.stringify(a.args):"")}b=[b,e+(s=="data"?"+":""),k];t!==null&&t!==void 0&&b.push(t);return b.join(":")};b.encodePayload=function(a){var b="";if(a.length==1)return a[0];for(var d=0,c=a.length;d<c;d++)b+="\ufffd"+a[d].length+"\ufffd"+a[d];return b};var k=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
b.decodePacket=function(a){var b=a.match(k);if(!b)return{};var i=b[2]||"",a=b[5]||"",e={type:c[b[1]],endpoint:b[4]||""};if(i)e.id=i,e.ack=b[3]?"data":!0;switch(e.type){case "error":b=a.split("+");e.reason=g[b[0]]||"";e.advice=f[b[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var s=d.parse(a);e.name=s.name;e.args=s.args}catch(t){}e.args=e.args||[];break;case "json":try{e.data=d.parse(a)}catch(A){}break;case "connect":e.qs=a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(e.ackId=
b[1],e.args=[],b[3])try{e.args=b[3]?d.parse(b[3]):[]}catch(w){}}return e};b.decodePayload=function(a){if(a.charAt(0)=="\ufffd"){for(var d=[],c=1,f="";c<a.length;c++)a.charAt(c)=="\ufffd"?(d.push(b.decodePacket(a.substr(c+1).substr(0,f))),c+=Number(f)+1,f=""):f+=a.charAt(c);return d}else return[b.decodePacket(a)]}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(e,a){function b(a,b){this.socket=a;this.sessid=b}e.Transport=b;a.util.mixin(b,a.EventEmitter);b.prototype.onData=function(b){this.clearCloseTimeout();(this.connected||this.connecting||this.reconnecting)&&this.setCloseTimeout();if(b!==""&&(b=a.parser.decodePayload(b))&&b.length)for(var g=0,f=b.length;g<f;g++)this.onPacket(b[g]);return this};b.prototype.onPacket=function(a){if(a.type=="heartbeat")return this.onHeartbeat();if(a.type=="connect"&&a.endpoint=="")this.onConnect();this.socket.onPacket(a);
return this};b.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};b.prototype.onDisconnect=function(){this.close&&this.open&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};b.prototype.onConnect=function(){this.socket.onConnect();return this};b.prototype.clearCloseTimeout=function(){if(this.closeTimeout)clearTimeout(this.closeTimeout),this.closeTimeout=null};b.prototype.clearTimeouts=
function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};b.prototype.packet=function(b){this.send(a.parser.encodePacket(b))};b.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};b.prototype.onOpen=function(){this.open=!0;this.clearCloseTimeout();this.socket.onOpen()};b.prototype.onClose=function(){this.open=!1;this.socket.onClose();this.onDisconnect()};b.prototype.prepareUrl=function(){var b=this.socket.options;return this.scheme()+"://"+b.host+":"+
b.port+"/"+b.resource+"/"+a.protocol+"/"+this.name+"/"+this.sessid};b.prototype.ready=function(a,b){b.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(e,a,b){function c(f){this.options={port:80,secure:!1,document:"document"in b?document:!1,resource:"socket.io",transports:a.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!0,"auto connect":!0,"flash policy port":10843};a.util.merge(this.options,f);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=
[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||a.util.ua.hasCORS)){var d=this;a.util.on(b,"beforeunload",function(){d.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function g(){}e.Socket=c;a.util.mixin(c,a.EventEmitter);c.prototype.of=function(b){this.namespaces[b]||(this.namespaces[b]=new a.SocketNamespace(this,b),b!==""&&this.namespaces[b].packet({type:"connect"}));return this.namespaces[b]};c.prototype.publish=function(){this.emit.apply(this,
arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};c.prototype.handshake=function(b){function d(a){if(a instanceof Error)c.onError(a.message);else b.apply(null,a.split(":"))}var c=this,e=this.options,e=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,a.protocol,a.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!a.util.ua.hasCORS){var p=document.getElementsByTagName("script")[0],m=document.createElement("script");
m.src=e+"&jsonp="+a.j.length;p.parentNode.insertBefore(m,p);a.j.push(function(a){d(a);m.parentNode.removeChild(m)})}else{var l=a.util.request();l.open("GET",e,!0);l.onreadystatechange=function(){if(l.readyState==4)l.onreadystatechange=g,l.status==200?d(l.responseText):!c.reconnecting&&c.onError(l.responseText)};l.send(null)}};c.prototype.getTransport=function(b){for(var b=b||this.transports,d=0,c;c=b[d];d++)if(a.Transport[c]&&a.Transport[c].check(this)&&(!this.isXDomain()||a.Transport[c].xdomainCheck()))return new a.Transport[c](this,
this.sessionid);return null};c.prototype.connect=function(b){if(this.connecting)return this;var d=this;this.handshake(function(c,g,e,m){function l(a){d.transport&&d.transport.clearTimeouts();d.transport=d.getTransport(a);if(!d.transport)return d.publish("connect_failed");d.transport.ready(d,function(){d.connecting=!0;d.publish("connecting",d.transport.name);d.transport.open();if(d.options["connect timeout"])d.connectTimeoutTimer=setTimeout(function(){if(!d.connected&&(d.connecting=!1,d.options["try multiple transports"])){if(!d.remainingTransports)d.remainingTransports=
d.transports.slice(0);for(var a=d.remainingTransports;a.length>0&&a.splice(0,1)[0]!=d.transport.name;);a.length?l(a):d.publish("connect_failed")}},d.options["connect timeout"])})}d.sessionid=c;d.closeTimeout=e*1E3;d.heartbeatTimeout=g*1E3;d.transports=a.util.intersect(m.split(","),d.options.transports);l();d.once("connect",function(){clearTimeout(d.connectTimeoutTimer);b&&typeof b=="function"&&b()})});return this};c.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):
this.buffer.push(a);return this};c.prototype.setBuffer=function(a){this.doBuffer=a;if(!a&&this.connected&&this.buffer.length)this.transport.payload(this.buffer),this.buffer=[]};c.prototype.disconnect=function(){this.connected&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted"));return this};c.prototype.disconnectSync=function(){a.util.request().open("GET",this.resource+"/"+a.protocol+"/"+this.sessionid,!0);this.onDisconnect("booted")};c.prototype.isXDomain=function(){var a=
b.location.port||("https:"==b.location.protocol?443:80);return this.options.host!==b.location.hostname||this.options.port!=a};c.prototype.onConnect=function(){if(!this.connected)this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect")};c.prototype.onOpen=function(){this.open=!0};c.prototype.onClose=function(){this.open=!1};c.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};c.prototype.onError=function(a){a&&a.advice&&a.advice==="reconnect"&&this.connected&&
(this.disconnect(),this.reconnect());this.publish("error",a&&a.reason?a.reason:a)};c.prototype.onDisconnect=function(a){var b=this.connected;this.open=this.connecting=this.connected=!1;b&&(this.transport.close(),this.transport.clearTimeouts(),this.publish("disconnect",a),"booted"!=a&&this.options.reconnect&&!this.reconnecting&&this.reconnect())};c.prototype.reconnect=function(){function a(){if(c.connected){for(var f in c.namespaces)c.namespaces.hasOwnProperty(f)&&""!==f&&c.namespaces[f].packet({type:"connect"});
c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=e}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,1E3);c.reconnectionAttempts++>=g?c.redoTransports?(c.publish("reconnect_failed"),
a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<m&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var c=this,g=this.options["max reconnection attempts"],e=this.options["try multiple transports"],
m=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);
(function(e,a){function b(a,b){this.socket=a;this.name=b||"";this.flags={};this.json=new c(this,"json");this.ackPackets=0;this.acks={}}function c(a,b){this.namespace=a;this.name=b}e.SocketNamespace=b;a.util.mixin(b,a.EventEmitter);b.prototype.$emit=a.EventEmitter.prototype.emit;b.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};b.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};b.prototype.send=function(a,b){var c={type:this.flags.json?
"json":"message",data:a};if("function"==typeof b)c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b;return this.packet(c)};b.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],e={type:"event",name:a};if("function"==typeof c)e.id=++this.ackPackets,e.ack="data",this.acks[e.id]=c,b=b.slice(0,b.length-1);e.args=b;return this.packet(e)};b.prototype.disconnect=function(){this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));
return this};b.prototype.onPacket=function(b){function c(){d.packet({type:"ack",args:a.util.toArray(arguments),ackId:b.id})}var d=this;switch(b.type){case "connect":this.$emit("connect");break;case "disconnect":if(this.name==="")this.socket.onDisconnect(b.reason||"booted");else this.$emit("disconnect",b.reason);break;case "message":case "json":var e=["message",b.data];b.ack=="data"?e.push(c):b.ack&&this.packet({type:"ack",ackId:b.id});this.$emit.apply(this,e);break;case "event":e=[b.name].concat(b.args);
b.ack=="data"&&e.push(c);this.$emit.apply(this,e);break;case "ack":this.acks[b.ackId]&&(this.acks[b.ackId].apply(this,b.args),delete this.acks[b.ackId]);break;case "error":if(b.advice)this.socket.onError(b);else b.reason=="unauthorized"?this.$emit("connect_failed",b.reason):this.$emit("error",b.reason)}};c.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};c.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,
arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(e,a,b){function c(b){a.Transport.apply(this,arguments)}e.websocket=c;a.util.inherit(c,a.Transport);c.prototype.name="websocket";c.prototype.open=function(){var c=a.util.query(this.socket.options.query),f=this,d;d||(d=b.MozWebSocket||b.WebSocket);this.websocket=new d(this.prepareUrl()+c);this.websocket.onopen=function(){f.onOpen();f.socket.setBuffer(!1)};this.websocket.onmessage=function(a){f.onData(a.data)};this.websocket.onclose=function(){f.onClose();f.socket.setBuffer(!0)};this.websocket.onerror=
function(a){f.onError(a)};return this};c.prototype.send=function(a){this.websocket.send(a);return this};c.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};c.prototype.close=function(){this.websocket.close();return this};c.prototype.onError=function(a){this.socket.onError(a)};c.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};c.check=function(){return"WebSocket"in b&&!("__addTask"in WebSocket)||"MozWebSocket"in b};c.xdomainCheck=function(){return!0};
a.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);
(function(e,a){function b(){a.Transport.websocket.apply(this,arguments)}e.flashsocket=b;a.util.inherit(b,a.Transport.websocket);b.prototype.name="flashsocket";b.prototype.open=function(){var b=this,e=arguments;WebSocket.__addTask(function(){a.Transport.websocket.prototype.open.apply(b,e)});return this};b.prototype.send=function(){var b=this,e=arguments;WebSocket.__addTask(function(){a.Transport.websocket.prototype.send.apply(b,e)});return this};b.prototype.close=function(){WebSocket.__tasks.length=
0;a.Transport.websocket.prototype.close.call(this);return this};b.prototype.ready=function(c,e){function f(){var a=c.options,f=a["flash policy port"],p=["http"+(a.secure?"s":"")+":/",a.host+":"+a.port,a.resource,"static/flashsocket","WebSocketMain"+(c.isXDomain()?"Insecure":"")+".swf"];if(!b.loaded)typeof WEB_SOCKET_SWF_LOCATION==="undefined"&&(WEB_SOCKET_SWF_LOCATION=p.join("/")),f!==843&&WebSocket.loadFlashPolicyFile("xmlsocket://"+a.host+":"+f),WebSocket.__initialize(),b.loaded=!0;e.call(d)}var d=
this;if(document.body)return f();a.util.load(f)};b.check=function(){return typeof WebSocket=="undefined"||!("__initialize"in WebSocket)||!swfobject?!1:swfobject.getFlashPlayerVersion().major>=10};b.xdomainCheck=function(){return!0};typeof window!="undefined"&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);a.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);
if("undefined"!=typeof window)var swfobject=function(){function e(){if(!z){try{var a=j.getElementsByTagName("body")[0].appendChild(j.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}z=!0;for(var a=D.length,c=0;c<a;c++)D[c]()}}function a(a){z?a():D[D.length]=a}function b(a){if(typeof u.addEventListener!=n)u.addEventListener("load",a,!1);else if(typeof j.addEventListener!=n)j.addEventListener("load",a,!1);else if(typeof u.attachEvent!=n)s(u,"onload",a);else if(typeof u.onload=="function"){var b=
u.onload;u.onload=function(){b();a()}}else u.onload=a}function c(){var a=j.getElementsByTagName("body")[0],b=j.createElement(q);b.setAttribute("type",o);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=n){var f=c.GetVariable("$version");if(f)f=f.split(" ")[1].split(","),h.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]}else if(d<10){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;g()})()}else g()}function g(){var a=x.length;if(a>0)for(var b=0;b<
a;b++){var c=x[b].id,e=x[b].callbackFn,g={success:!1,id:c};if(h.pv[0]>0){var j=r(c);if(j)if(t(x[b].swfVersion)&&!(h.wk&&h.wk<312)){if(w(c,!0),e)g.success=!0,g.ref=f(c),e(g)}else if(x[b].expressInstall&&d()){g={};g.data=x[b].expressInstall;g.width=j.getAttribute("width")||"0";g.height=j.getAttribute("height")||"0";if(j.getAttribute("class"))g.styleclass=j.getAttribute("class");if(j.getAttribute("align"))g.align=j.getAttribute("align");for(var K={},j=j.getElementsByTagName("param"),l=j.length,m=0;m<
l;m++)j[m].getAttribute("name").toLowerCase()!="movie"&&(K[j[m].getAttribute("name")]=j[m].getAttribute("value"));i(g,K,c,e)}else k(j),e&&e(g)}else if(w(c,!0),e){if((c=f(c))&&typeof c.SetVariable!=n)g.success=!0,g.ref=c;e(g)}}}function f(a){var b=null;if((a=r(a))&&a.nodeName=="OBJECT")typeof a.SetVariable!=n?b=a:(a=a.getElementsByTagName(q)[0])&&(b=a);return b}function d(){return!E&&t("6.0.65")&&(h.win||h.mac)&&!(h.wk&&h.wk<312)}function i(a,b,c,d){E=!0;H=d||null;L={success:!1,id:c};var f=r(c);if(f){f.nodeName==
"OBJECT"?(C=p(f),F=null):(C=f,F=c);a.id=M;if(typeof a.width==n||!/%$/.test(a.width)&&parseInt(a.width,10)<310)a.width="310";if(typeof a.height==n||!/%$/.test(a.height)&&parseInt(a.height,10)<137)a.height="137";j.title=j.title.slice(0,47)+" - Flash Player Installation";d=h.ie&&h.win?"ActiveX":"PlugIn";d="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+j.title;typeof b.flashvars!=n?b.flashvars+="&"+d:b.flashvars=d;if(h.ie&&h.win&&f.readyState!=4)d=j.createElement("div"),
c+="SWFObjectNew",d.setAttribute("id",c),f.parentNode.insertBefore(d,f),f.style.display="none",function(){f.readyState==4?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}();m(a,b,c)}}function k(a){if(h.ie&&h.win&&a.readyState!=4){var b=j.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(p(a),b);a.style.display="none";(function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(p(a),a)}function p(a){var b=
j.createElement("div");if(h.win&&h.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(q)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(a[d].nodeType==1&&a[d].nodeName=="PARAM")&&a[d].nodeType!=8&&b.appendChild(a[d].cloneNode(!0));return b}function m(a,b,c){var d,f=r(c);if(h.wk&&h.wk<312)return d;if(f){if(typeof a.id==n)a.id=c;if(h.ie&&h.win){var e="",g;for(g in a)if(a[g]!=Object.prototype[g])g.toLowerCase()=="data"?b.movie=a[g]:g.toLowerCase()=="styleclass"?e+=' class="'+a[g]+'"':
g.toLowerCase()!="classid"&&(e+=" "+g+'="'+a[g]+'"');g="";for(var i in b)b[i]!=Object.prototype[i]&&(g+='<param name="'+i+'" value="'+b[i]+'" />');f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+g+"</object>";G[G.length]=a.id;d=r(a.id)}else{i=j.createElement(q);i.setAttribute("type",o);for(var k in a)a[k]!=Object.prototype[k]&&(k.toLowerCase()=="styleclass"?i.setAttribute("class",a[k]):k.toLowerCase()!="classid"&&i.setAttribute(k,a[k]));for(e in b)b[e]!=Object.prototype[e]&&
e.toLowerCase()!="movie"&&(a=i,g=e,k=b[e],c=j.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",k),a.appendChild(c));f.parentNode.replaceChild(i,f);d=i}}return d}function l(a){var b=r(a);if(b&&b.nodeName=="OBJECT")h.ie&&h.win?(b.style.display="none",function(){if(b.readyState==4){var c=r(a);if(c){for(var d in c)typeof c[d]=="function"&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b)}function r(a){var b=null;try{b=j.getElementById(a)}catch(c){}return b}
function s(a,b,c){a.attachEvent(b,c);B[B.length]=[a,b,c]}function t(a){var b=h.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function A(a,b,c,d){if(!h.ie||!h.mac){var f=j.getElementsByTagName("head")[0];if(f){c=c&&typeof c=="string"?c:"screen";d&&(I=v=null);if(!v||I!=c)d=j.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),v=f.appendChild(d),
h.ie&&h.win&&typeof j.styleSheets!=n&&j.styleSheets.length>0&&(v=j.styleSheets[j.styleSheets.length-1]),I=c;h.ie&&h.win?v&&typeof v.addRule==q&&v.addRule(a,b):v&&typeof j.createTextNode!=n&&v.appendChild(j.createTextNode(a+" {"+b+"}"))}}}function w(a,b){if(N){var c=b?"visible":"hidden";z&&r(a)?r(a).style.visibility=c:A("#"+a,"visibility:"+c)}}function J(a){return/[\\\"<>\.;]/.exec(a)!=null&&typeof encodeURIComponent!=n?encodeURIComponent(a):a}var n="undefined",q="object",o="application/x-shockwave-flash",
M="SWFObjectExprInst",u=window,j=document,y=navigator,O=!1,D=[function(){O?c():g()}],x=[],G=[],B=[],C,F,H,L,z=!1,E=!1,v,I,N=!0,h=function(){var a=typeof j.getElementById!=n&&typeof j.getElementsByTagName!=n&&typeof j.createElement!=n,b=y.userAgent.toLowerCase(),c=y.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\u000b1",e=[0,0,0],g=null;if(typeof y.plugins!=n&&typeof y.plugins["Shockwave Flash"]==
q){if((g=y.plugins["Shockwave Flash"].description)&&!(typeof y.mimeTypes!=n&&y.mimeTypes[o]&&!y.mimeTypes[o].enabledPlugin))O=!0,f=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),e[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof u.ActiveXObject!=n)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i&&(g=i.GetVariable("$version")))f=!0,g=g.split(" ")[1].split(","),
e=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}catch(h){}return{w3:a,pv:e,wk:b,ie:f,win:d,mac:c}}();(function(){h.w3&&((typeof j.readyState!=n&&j.readyState=="complete"||typeof j.readyState==n&&(j.getElementsByTagName("body")[0]||j.body))&&e(),z||(typeof j.addEventListener!=n&&j.addEventListener("DOMContentLoaded",e,!1),h.ie&&h.win&&(j.attachEvent("onreadystatechange",function(){j.readyState=="complete"&&(j.detachEvent("onreadystatechange",arguments.callee),e())}),u==top&&function(){if(!z){try{j.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}e()}}()),h.wk&&function(){z||(/loaded|complete/.test(j.readyState)?e():setTimeout(arguments.callee,0))}(),b(e)))})();(function(){h.ie&&h.win&&window.attachEvent("onunload",function(){for(var a=B.length,b=0;b<a;b++)B[b][0].detachEvent(B[b][1],B[b][2]);a=G.length;for(b=0;b<a;b++)l(G[b]);for(var c in h)h[c]=null;h=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})})();return{registerObject:function(a,b,c,d){if(h.w3&&a&&b){var f={};f.id=a;f.swfVersion=b;f.expressInstall=c;f.callbackFn=
d;x[x.length]=f;w(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(h.w3)return f(a)},embedSWF:function(b,c,f,e,g,j,k,l,o,p){var r={success:!1,id:c};h.w3&&!(h.wk&&h.wk<312)&&b&&c&&f&&e&&g?(w(c,!1),a(function(){f+="";e+="";var a={};if(o&&typeof o===q)for(var h in o)a[h]=o[h];a.data=b;a.width=f;a.height=e;h={};if(l&&typeof l===q)for(var s in l)h[s]=l[s];if(k&&typeof k===q)for(var u in k)typeof h.flashvars!=n?h.flashvars+="&"+u+"="+k[u]:h.flashvars=u+"="+k[u];if(t(g))s=m(a,h,c),a.id==
c&&w(c,!0),r.success=!0,r.ref=s;else if(j&&d()){a.data=j;i(a,h,c,p);return}else w(c,!0);p&&p(r)})):p&&p(r)},switchOffAutoHideShow:function(){N=!1},ua:h,getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(a,b,c){if(h.w3)return m(a,b,c)},showExpressInstall:function(a,b,c,f){h.w3&&d()&&i(a,b,c,f)},removeSWF:function(a){h.w3&&l(a)},createCSS:function(a,b,c,d){h.w3&&A(a,b,c,d)},addDomLoadEvent:a,addLoadEvent:b,getQueryParamValue:function(a){var b=
j.location.search||j.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return J(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return J(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(E){var a=r(M);if(a&&C){a.parentNode.replaceChild(C,a);if(F&&(w(F,!0),h.ie&&h.win))C.style.display="block";H&&H(L)}E=!1}}}}();
(function(){if(!("undefined"==typeof window||window.WebSocket)){var e=window.console;if(!e||!e.log||!e.error)e={log:function(){},error:function(){}};swfobject.hasFlashPlayerVersion("10.0.0")?(location.protocol=="file:"&&e.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,b,c,e,f){var d=this;d.__id=WebSocket.__nextId++;WebSocket.__instances[d.__id]=d;d.readyState=WebSocket.CONNECTING;
d.bufferedAmount=0;d.__events={};b?typeof b=="string"&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(d.__id,a,b,c||null,e||0,f||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,encodeURIComponent(a));return a<0?!0:(this.bufferedAmount+=a,!1)},WebSocket.prototype.close=function(){if(!(this.readyState==WebSocket.CLOSED||
this.readyState==WebSocket.CLOSING))this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id)},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],e=c.length-1;e>=0;--e)if(c[e]===b){c.splice(e,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);(b=this["on"+
a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){if("readyState"in a)this.readyState=a.readyState;if("protocol"in a)this.protocol=a.protocol;if(a.type=="open"||a.type=="error")a=this.__createSimpleEvent(a.type);else if(a.type=="close")a=this.__createSimpleEvent("close");else if(a.type=="message")a=this.__createMessageEvent("message",decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&
window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}else return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,b,null,null,window,null);return c}else return{type:a,data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=
null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash){if(WebSocket.__swfLocation)window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation;if(window.WEB_SOCKET_SWF_LOCATION){var a=document.createElement("div");a.id="webSocketContainer";a.style.position="absolute";WebSocket.__isFlashLite()?(a.style.left="0px",a.style.top=
"0px"):(a.style.left="-100px",a.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";a.appendChild(b);document.body.appendChild(a);swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||e.error("[WebSocket] swfobject.embedSWF failed")})}else e.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")}},WebSocket.__onFlashInitialized=
function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(c){e.error(c)}},0);return!0},
WebSocket.__log=function(a){e.log(decodeURIComponent(a))},WebSocket.__error=function(a){e.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):e.error("Flash Player >= 10.0.0 is required.")}})();
(function(e,a,b){function c(b){if(b)a.Transport.apply(this,arguments),this.sendBuffer=[]}function g(){}e.XHR=c;a.util.inherit(c,a.Transport);c.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};c.prototype.payload=function(b){for(var c=[],e=0,g=b.length;e<g;e++)c.push(a.parser.encodePacket(b[e]));this.send(a.parser.encodePayload(c))};c.prototype.send=function(a){this.post(a);return this};c.prototype.post=function(a){function c(){if(this.readyState==
4)if(this.onreadystatechange=g,k.posting=!1,this.status==200)k.socket.setBuffer(!1);else k.onClose()}function e(){this.onload=g;k.socket.setBuffer(!1)}var k=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");b.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=e:this.sendXHR.onreadystatechange=c;this.sendXHR.send(a)};c.prototype.close=function(){this.onClose();return this};c.prototype.request=function(b){var c=a.util.request(this.socket.isXDomain()),
e=a.util.query(this.socket.options.query,"t="+ +new Date);c.open(b||"GET",this.prepareUrl()+e,!0);if(b=="POST")try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(g){}return c};c.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};c.check=function(b,c){try{if(a.util.request(c))return!0}catch(e){}return!1};c.xdomainCheck=function(){return c.check(null,!0)}})("undefined"!=typeof io?io.Transport:module.exports,
"undefined"!=typeof io?io:module.parent.exports,this);
(function(e,a){function b(b){a.Transport.XHR.apply(this,arguments)}e.htmlfile=b;a.util.inherit(b,a.Transport.XHR);b.prototype.name="htmlfile";b.prototype.get=function(){this.doc=new ActiveXObject("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var b=this.doc.createElement("div");b.className="socketio";this.doc.body.appendChild(b);this.iframe=this.doc.createElement("iframe");b.appendChild(this.iframe);var e=this,b=a.util.query(this.socket.options.query,
"t="+ +new Date);this.iframe.src=this.prepareUrl()+b;a.util.on(window,"unload",function(){e.destroy()})};b.prototype._=function(a,b){this.onData(a);try{var e=b.getElementsByTagName("script")[0];e.parentNode.removeChild(e)}catch(d){}};b.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};b.prototype.close=function(){this.destroy();return a.Transport.XHR.prototype.close.call(this)};
b.check=function(){if("ActiveXObject"in window)try{return new ActiveXObject("htmlfile")&&a.Transport.XHR.check()}catch(b){}return!1};b.xdomainCheck=function(){return!1};a.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(e,a,b){function c(){a.Transport.XHR.apply(this,arguments)}function g(){}e["xhr-polling"]=c;a.util.inherit(c,a.Transport.XHR);a.util.merge(c,a.Transport.XHR);c.prototype.name="xhr-polling";c.prototype.open=function(){a.Transport.XHR.prototype.open.call(this);return!1};c.prototype.get=function(){function a(){if(this.readyState==4)if(this.onreadystatechange=g,this.status==200)e.onData(this.responseText),e.get();else e.onClose()}function c(){this.onload=g;e.onData(this.responseText);e.get()}
if(this.open){var e=this;this.xhr=this.request();b.XDomainRequest&&this.xhr instanceof XDomainRequest?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=a;this.xhr.send(null)}};c.prototype.onClose=function(){a.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=g;try{this.xhr.abort()}catch(b){}this.xhr=null}};c.prototype.ready=function(b,c){var e=this;a.util.defer(function(){c.call(e)})};a.transports.push("xhr-polling")})("undefined"!=typeof io?
io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);
(function(e,a,b){function c(b){a.Transport["xhr-polling"].apply(this,arguments);this.index=a.j.length;var c=this;a.j.push(function(a){c._(a)})}var g=b.document&&"MozAppearance"in b.document.documentElement.style;e["jsonp-polling"]=c;a.util.inherit(c,a.Transport["xhr-polling"]);c.prototype.name="jsonp-polling";c.prototype.post=function(b){function c(){e();g.socket.setBuffer(!1)}function e(){g.iframe&&g.form.removeChild(g.iframe);try{s=document.createElement('<iframe name="'+g.iframeId+'">')}catch(a){s=
document.createElement("iframe"),s.name=g.iframeId}s.id=g.iframeId;g.form.appendChild(s);g.iframe=s}var g=this,p=a.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var m=document.createElement("form"),l=document.createElement("textarea"),r=this.iframeId="socketio_iframe_"+this.index,s;m.className="socketio";m.style.position="absolute";m.style.top="-1000px";m.style.left="-1000px";m.target=r;m.method="POST";m.setAttribute("accept-charset","utf-8");l.name="d";m.appendChild(l);
document.body.appendChild(m);this.form=m;this.area=l}this.form.action=this.prepareUrl()+p;e();this.area.value=a.JSON.stringify(b);try{this.form.submit()}catch(t){}this.iframe.attachEvent?s.onreadystatechange=function(){g.iframe.readyState=="complete"&&c()}:this.iframe.onload=c;this.socket.setBuffer(!0)};c.prototype.get=function(){var b=this,c=document.createElement("script"),e=a.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(this.script)this.script.parentNode.removeChild(this.script),
this.script=null;c.async=!0;c.src=this.prepareUrl()+e;c.onerror=function(){b.onClose()};e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e);this.script=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};c.prototype._=function(a){this.onData(a);this.open&&this.get();return this};c.prototype.ready=function(b,c){var e=this;if(!g)return c.call(this);a.util.load(function(){c.call(e)})};c.check=function(){return"document"in
b};c.xdomainCheck=function(){return!0};a.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);
